---
title: "RISC-Vã®å‘¼ã³å‡ºã—è¦ç´„ã¨Xbyak_riscvã«ã‚ˆã‚‹BrainFuckã®JITã‚¤ãƒ³ã‚¿ãƒ—ãƒªã‚¿"
emoji: "ğŸ“–"
type: "tech"
topics: ["RISCV", "JIT", "xbyak", "brainfuck"]
published: true
---
## åˆã‚ã«
2022å¹´æœ«ã‹ã‚‰[Xbyak](https://github.com/herumi/xbyak)ã®RISC-Vç‰ˆ[Xbyak_riscv](https://github.com/herumi/xbyak_riscv)ã‚’ä½œã£ã¦ã¾ã—ãŸã€‚
ç¾åœ¨RV32, RV64ã®I, fence, M, Aã¨Cã®ä¸€éƒ¨, Vector Extensionã«å¯¾å¿œã—ã¦ã¾ã™ã€‚
ã—ã°ã‚‰ãæ”¾ç½®ã—ã¦ãŸã®ã§å…¨éƒ¨å¿˜ã‚Œã¦ã—ã¾ã„ã€å‹‰å¼·ã—ç›´ã™ãŸã‚ã«BrainFuckã®JITã‚¤ãƒ³ã‚¿ãƒ—ãƒªã‚¿ã‚’ä½œã‚Šã¾ã—ãŸã€‚

## RISC-Vã®ãƒ¬ã‚¸ã‚¹ã‚¿ã¨å‘¼ã³å‡ºã—è¦ç´„
æ•´æ•°ãƒ¬ã‚¸ã‚¹ã‚¿ã¯x0ã‹ã‚‰x31ã¾ã§ã®32å€‹ã‚ã‚Šã¾ã™ã€‚ãƒ¬ã‚¸ã‚¹ã‚¿ã‚µã‚¤ã‚ºã¯RV64ãªã‚‰64ãƒ“ãƒƒãƒˆ, RV32ãªã‚‰32ãƒ“ãƒƒãƒˆã§ã™ã€‚
ã„ãã¤ã‹ã®ãƒ¬ã‚¸ã‚¹ã‚¿ã¯ç”¨é€”ãŒæ±ºã¾ã£ã¦ã„ã¾ã™ã€‚

ãƒ¬ã‚¸ã‚¹ã‚¿|ABIä¸Šã®åå‰|ç”¨é€”|ä¿å­˜ã™ã‚‹å ´æ‰€
-|-|-|-
x0|zero|å¸¸ã«ã‚¼ãƒ­|-
x1|ra|ãƒªã‚¿ãƒ¼ãƒ³ã‚¢ãƒ‰ãƒ¬ã‚¹|å‘¼ã³å‡ºã—å…ƒ(caller)
x2|sp|ã‚¹ã‚¿ãƒƒã‚¯ãƒã‚¤ãƒ³ã‚¿|å‘¼ã³å‡ºã—å…ˆ(callee)
x3|gp|ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒã‚¤ãƒ³ã‚¿|-
x4|tp|ã‚¹ãƒ¬ãƒƒãƒ‰ãƒã‚¤ãƒ³ã‚¿|-
x5, x6, x7|t0, t1, t2|ä¸€æ™‚çš„|caller
x8|s0/fp|ä¿å­˜ã•ã‚ŒãŸãƒ¬ã‚¸ã‚¹ã‚¿/ãƒ•ãƒ¬ãƒ¼ãƒ ãƒã‚¤ãƒ³ã‚¿|callee
x9|s1|ä¿å­˜ã•ã‚ŒãŸãƒ¬ã‚¸ã‚¹ã‚¿|callee
x10, x11|a0, a1|é–¢æ•°ã®å¼•æ•°/æˆ»ã‚Šå€¤|caller
x12, ..., x17|a2, ..., a7|é–¢æ•°ã®å¼•æ•°|caller
x18, ..., x27|s2, ..., s11|ä¿å­˜ã•ã‚ŒãŸãƒ¬ã‚¸ã‚¹ã‚¿|callee
x28, ..., x31|t3, ..., t6|ä¸€æ™‚çš„|caller

calleeã¨ãªã£ã¦ã„ã‚‹ã®ãŒé–¢æ•°ã®ä¸­ã§å¤‰æ›´ã—ãŸã‚‰ã€é–¢æ•°ã‚’æŠœã‘ã‚‹ã¨ãã«å…ƒã«æˆ»ã™ã¹ããƒ¬ã‚¸ã‚¹ã‚¿ã§ã™ã€‚
x10ã‹ã‚‰x17ã«ã¯a0, ..., a7ã¨ã„ã†åå‰ã®aliasãŒã¤ã„ã¦ã„ã¾ã™ã€‚ãã‚Œãã‚Œé–¢æ•°ã®å¼•æ•°ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚
ã ã‹ã‚‰
```cpp
int addC(int x, int y) { return x + y; }
```
ã¯

```cpp
addC() {
  addw(a0, a0, a1); // x = x + y
  ret();
}
```

ã¨ãªã‚Šã¾ã™ï¼ˆaddwã¯32ãƒ“ãƒƒãƒˆã¨ã—ã¦ã®åŠ ç®—ï¼‰ã€‚

## callã¨ret
x64ã«æ…£ã‚Œã¦ã„ã‚‹äººãŒcallã¨retã‚’ä½¿ã†ã¨ãã«ä¸€ã¤æ³¨æ„ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚
x64ã®`call(reg)`ã«ç›¸å½“ã™ã‚‹å‘½ä»¤ã¯`jalr(reg)`ã§ã™ã€‚jalrã¯`jalr(reg1, reg2, imm)`ã¨ã„ã†å½¢ã§ä½¿ã„ã€reg1ã‚’jalrã®æ¬¡ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã«è¨­å®šã—ã¦`reg2 + imm`ã®æŒ‡ã™ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ã‚¸ãƒ£ãƒ³ãƒ—ã—ã¾ã™ã€‚
`jalr(reg)`ã¨æ›¸ã„ãŸã¨ãã¯`jalr(ra, reg, 0)`ã‚’æ„å‘³ã—ã¾ã™ã€‚ã¤ã¾ã‚Šraã«æˆ»ã‚‹ã¹ãã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¨­å®šã—ã¦regã«ã‚¸ãƒ£ãƒ³ãƒ—ã™ã‚‹ã®ã§ã™ã­ã€‚
ãã—ã¦RISC-Vã®`ret()`ã¯`jalr(zero, ra, 0)`ã®aliasã§ã™ã€‚
zeroã¯ä½•ã‚’æ›¸ãè¾¼ã‚“ã§ã‚‚ã‚¼ãƒ­ã®ã¾ã¾ãªã®ã§æ¬¡ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯è¨­å®šã›ãšã«raã«ã‚¸ãƒ£ãƒ³ãƒ—ã—ã¾ã™ã€‚raã«ã¯æˆ»ã‚‹ã¹ãã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå…¥ã£ã¦ã„ã‚‹ã®ã§ç„¡äº‹æˆ»ã‚Œã¾ã™ã€‚

ã ã‹ã‚‰é–¢æ•°Xã®ä¸­ã§raã‚’å£Šã—ã¦ã¯ã„ã‘ã¾ã›ã‚“ã€‚é–¢æ•°Xã®ä¸­ã§åˆ¥ã®é–¢æ•°Yã‚’å‘¼ã³å‡ºã™ã¨ã€ãã®ã¨ãraãŒå¤‰ã‚ã£ã¦ã—ã¾ã†ã®ã§é–¢æ•°Xã®ä¸­ã§äº‹å‰ã«raã‚’ã‚¹ã‚¿ãƒƒã‚¯ã«ä¿å­˜ã—ã€é–¢æ•°Yãªã©ã‚’å‘¼ã³å‡ºã—ãŸå¾Œã€retã™ã‚‹å‰ã«raã‚’å…ƒã«æˆ»ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```cpp
funcX() {
  // raã‚’ã‚¹ã‚¿ãƒƒã‚¯ã«ä¿å­˜
  ...
  jalr(é–¢æ•°Y);
  ...
  // raã‚’ã‚¹ã‚¿ãƒƒã‚¯ã‹ã‚‰å¾©å…ƒ
  ret();
}
```
jalrã¨retã ã‘ã‚’ä½¿ã£ã¦ã„ã‚‹ã¨raã¯æ˜ç¤ºçš„ã«ã¯è¦‹ãˆãªã„ã®ã§æ³¨æ„ã—ã¦ãã ã•ã„ï¼ˆã¯ã¾ã£ãŸäººï¼‰ã€‚

## Xbyak_riscvã®æ–‡æ³•
æ¦‚ã­asmæ§‹æ–‡ã‚’C++ã®ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—ã«ã™ã‚‹å½¢ã§ç½®ãæ›ãˆã¾ã™ã€‚Xbyakã¨ç•°ãªã‚Šã€å‡ã£ãŸæ¼”ç®—å­ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã¯ã—ã¦ã„ã¾ã›ã‚“ã€‚

asm|Xbyak
-|-
`add x3, x4, x5`|`add(x3, x4, x5);`
`ld x3, 16(x4)`|`ld(x3, x4, 16);`
`sw t0,8(s1)`|`sw(t0, s1, 8);`
`amoswap.w a0,a1,(a2)`|`amoswap_w(a0, a1, a2);`

- `ld`ã‚„`sw`ãªã©ã®ãƒ¡ãƒ¢ãƒªé–¢ä¿‚ã®å‘½ä»¤ã¯ã‚¢ãƒ‰ãƒ¬ã‚¹æŒ‡å®šã‚’æ„å‘³ã™ã‚‹`()`ã¯å–ã‚Šé™¤ã„ã¦ãã ã•ã„ã€‚
- `amoswap.w`ãªã©ã®é€”ä¸­ã«ãƒ”ãƒªã‚ªãƒ‰`.`ãŒã‚ã‚‹å‘½ä»¤ã¯ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢`_`ã«ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚

```cpp
Label F;
  beq(a0, x0, F);
```
åˆ†å²å‘½ä»¤ã‚‚Xbyakã¨åŒã˜ä½¿ã„æ–¹ã§ã™ã€‚ç¾çŠ¶ã¯é£›ã³å…ˆãŒé ã„ã¨ä¾‹å¤–ã‚’æŠ•ã’ã¾ã™ã€‚
32ãƒ“ãƒƒãƒˆã‚ªãƒ•ã‚»ãƒƒãƒˆå†…ãªã‚‰OKã«ã™ã‚‹æ‹¡å¼µã¯ãã®ã†ã¡å¯¾å¿œã—ã¾ã™ã€‚

## Brainfuck
Brainfuckã¯å°ã•ãªè¨€èªã§ã™ã€‚
ä¸€å®šé‡ã®ã‚¼ãƒ­åˆæœŸåŒ–ã•ã‚ŒãŸuint8_tå‹é…åˆ—ã¨ãã®å…ˆé ­ãƒã‚¤ãƒ³ã‚¿(stack)ãŒæ¸¡ã•ã‚ŒãŸã¨ãã«æ¬¡ã®å‘½ä»¤ã‚’å‡¦ç†ã—ã¾ã™ã€‚

- `>` // stack++;
- `<` // stack--;
- `+` // (*stack)++;
- `-` // (*stack)--;
- `.` // putchar(*stack);
- `,` // *stack = getchar();
- `[` // while (*stack) {
- `]` // }

## JITã‚³ãƒ¼ãƒ‰ç”Ÿæˆã®å‘¼ã³å‡ºã—
ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã•ã‚ŒãŸä¸­ã§putcharã‚„getcharã‚’ç›´æ¥å‘¼ã¶ã®ã¯ã‚„ã‚„ã“ã—ã„ã®ã§é–¢æ•°ãƒã‚¤ãƒ³ã‚¿ã¨ã—ã¦ãã‚Œã‚‰ã®ãƒã‚¤ãƒ³ã‚¿ã¨stackã‚’æ¸¡ã™ã“ã¨ã«ã—ã¾ã™ã€‚

```cpp
std::ifstream ifs(argv[1]);
Brainfuck bf(ifs);
bf.ready();
static uint8_t stack[30000];
auto f = bf.getCode<void (*)(const void *, const void *, uint8_t *)>();
f((const void *)putchar, (const void *)getchar, stack);
```

## JITã‚¤ãƒ³ã‚¿ãƒ—ãƒªã‚¿ã®å®Ÿè£…

### é–¢æ•°ã®ãƒ—ãƒ­ãƒ­ãƒ¼ã‚°ã¨ã‚¨ãƒ”ãƒ­ãƒ¼ã‚°
```cpp
Brainfuck(std::istream &is) : CodeGenerator(100000) {
    const auto &pPutchar = s2;
    const auto &pGetchar = s3;
    const auto &stack = s4;
    const int saveSize = 16*2;
    addi(sp, sp, -saveSize); // sp -= saveSize;
    sd(pPutchar, sp, 8); // sp[1] = pPutchar;
    sd(pGetchar, sp, 16); // sp[2] = pGetchar;
    sd(stack, sp, 24); // sp[3] = stack;
    sd(ra, sp, 32); // sp[4] = ra;

    mv(pPutchar, a0);
    mv(pGetchar, a1);
    mv(stack, a2);
```
é–¢æ•°ã®æœ€åˆã«å¼•æ•°ã§æ¸¡ã•ã‚ŒãŸputchar, getchar, stackã®ãƒã‚¤ãƒ³ã‚¿ã‚’s2, s3, s4ã«ä¿å­˜ã—ã¾ã™ã€‚
ã“ã‚Œã‚‰ã®ãƒ¬ã‚¸ã‚¹ã‚¿ã¯ä¿å­˜ã™ã¹ããªã®ã§ã‚¹ã‚¿ãƒƒã‚¯ã«é€€é¿ã—ã¾ã™ã€‚å‰è¿°ã®ã‚ˆã†ã«raã‚‚é€€é¿ã—ã¾ã™ã€‚
spã¯16ã®å€æ•°ã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

é–¢æ•°ã‚’æŠœã‘ã‚‹ã¨ãã«ã“ã‚Œã‚‰ã®å€¤ã‚’å…ƒã«æˆ»ã—ã¾ã™ã€‚
```cpp
    ld(ra, sp, 32);
    ld(stack, sp, 24);
    ld(pGetchar, sp, 16);
    ld(pPutchar, sp, 8);
    addi(sp, sp, saveSize);
    ret();
}
```

### `+`ã¨`-`ã®å‡¦ç†
`getContinuousChar(is, c)`ã¯`c`ã¨åŒã˜æ–‡å­—ãŒç¶šãé™ã‚Šé€£ç¶šã—ã¦èª­ã¿è¾¼ã¿ã€èª­ã¿è¾¼ã‚“ã å€‹æ•°ã‚’è¿”ã—ã¾ã™ã€‚ç°¡å˜ãªæœ€é©åŒ–ã§ã™ã€‚

```cpp
while (is >> c) {
    switch (c) {
    case '+':
    case '-': {
        int count = getContinuousChar(is, c);
        lb(a0, stack);
        if (c == '+') {
            addi(a0, a0, count);
        } else {
            addi(a0, a0, -count);
        }
        sb(a0, stack);
    } break;
```
lbã§stackã®å€¤ã«ã‚ã‚‹å€¤ã‚’1ãƒã‚¤ãƒˆa0ã«èª­ã¿è¾¼ã¿ã€èª­ã¿è¾¼ã‚“ã å€‹æ•°countåˆ†åŠ æ¸›ç®—ã—ã¦stackã®å ´æ‰€ã«æ›¸ãæˆ»ã—ã¾ã™ã€‚
`addi`ã¯å³å€¤ã«ç¬¦å·ã¤ã12ãƒ“ãƒƒãƒˆã—ã‹ã¨ã‚Œãªã„ã®ã§ã€ãã‚Œä»¥ä¸Šã®å€¤ã¯ãŠã‹ã—ããªã£ã¦ã—ã¾ã†ã®ã§ã™ãŒã€ä»Šã¯ç„¡è¦–ã—ã¦ã¾ã™ã€‚ã¾ãŸ`stack`ã®é ˜åŸŸãƒã‚§ãƒƒã‚¯ã‚‚ã—ã¦ã„ã¾ã›ã‚“ã€‚

### `>`ã¨`<`ã®å‡¦ç†

```cpp
    case '>':
    case '<': {
        int count = getContinuousChar(is, c);
        if (c == '>') {
            addi(stack, stack, count);
        } else {
            addi(stack, stack, -count);
        }
    } break;
```
ã“ã¡ã‚‰ã¯stackã®å€¤ãã®ã‚‚ã®ã‚’åŠ æ¸›ç®—ã—ã¾ã™ã€‚

### `.`ã¨`,`ã®å‡¦ç†

```cpp
    case '.':
        lb(a0, stack);
        jalr(pPutchar);
        break;
    case ',':
        jalr(pGetchar);
        sb(a0, stack);
        break;
```
`.`ã¯`stack`ã«ã‚ã‚‹å€¤ã‚’è¡¨ç¤ºã™ã‚‹ã®ã§`lb`ã§a0ã«1ãƒã‚¤ãƒˆèª­ã¿è¾¼ã¿ã€`putchar`ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚
`,`ã¯`getchar`ã‚’å‘¼ã³å‡ºã—ã¦ã€`sb`ã§ãã®å€¤ã‚’`stack`ã«æ›¸ãè¾¼ã¿ã¾ã™ã€‚

### `[`ã¨`]`ã®å‡¦ç†
`*stack`ã®å€¤ãŒ0ã§ãªã„é™ã‚Šã€`[`ã¨`]`ã§å›²ã¾ã‚ŒãŸé ˜åŸŸã‚’ãƒ«ãƒ¼ãƒ—ã—ã¾ã™ã€‚
Cã«ã‚ˆã‚‹ç–‘ä¼¼ã‚³ãƒ¼ãƒ‰ã¯
```cpp
B:
  if (*stack == 0) goto F;
  // ã‚³ãƒ¼ãƒ‰ã„ã‚ã„ã‚
  goto B;
F:
```

ãƒ©ãƒ™ãƒ«`B`ã¨`F`ã¯ä»»æ„å€‹ã€ãƒã‚¹ãƒˆã—ã¦ç¾ã‚Œã‚‹ã®ã§`std::stack<Label>`ã§ç®¡ç†ã—ã¾ã™ã€‚

```cpp
std::stack<Label> labelF, labelB;
```

```cpp
    case '[': {
        Label B = L();
        labelB.push(B);
        lb(a0, stack);
        Label F;
        beq(a0, x0, F);
        labelF.push(F);
    } break;
    case ']': {
        Label B = labelB.top();
        labelB.pop();
        j_(B);
        Label F = labelF.top();
        labelF.pop();
        L(F);
    } break;
```

`[`ãŒç™»å ´ã—ãŸã‚‰ç¾æ™‚ç‚¹ã®å ´æ‰€ã§ãƒ©ãƒ™ãƒ«`B`ã‚’ä½œã‚Šã€`labelB`ã«pushã—ã¾ã™ã€‚
ãã—ã¦ã€`stack`ã‹ã‚‰1ãƒã‚¤ãƒˆ`a0`ã«èª­ã¿è¾¼ã‚“ã§0ãªã‚‰ã°ãƒ©ãƒ™ãƒ«`F`ã«ã‚¸ãƒ£ãƒ³ãƒ—ã—ã¾ã™ã€‚
ã“ã®æ™‚ç‚¹ã§ãƒ©ãƒ™ãƒ«`F`ã®å ´æ‰€ã¯æœªç¢ºå®šã§ã™ãŒã€ãã®ã¾ã¾`labelF`ã«pushã—ã¾ã™ã€‚
beqã§æ‰±ãˆã‚‹åˆ†å²å…ˆã®ã‚ªãƒ•ã‚»ãƒƒãƒˆã¯13ãƒ“ãƒƒãƒˆãªã®ã§ãã‚Œã‚ˆã‚Šå¤§ãã„ã‚³ãƒ¼ãƒ‰ã¯å‹•ã‹ãªããªã‚Šã¾ã™ãŒã€ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ç„¡è¦–ã—ã¦ã„ã¾ã™ã€‚

`]`ãŒç™»å ´ã—ãŸã‚‰ã€`labelB`ã‹ã‚‰ãƒ©ãƒ™ãƒ«`B`ã‚’popã—ã¦`j_(B)`ã§ã‚¸ãƒ£ãƒ³ãƒ—ã—ã¾ã™ã€‚
ãã—ã¦ãã®æ¬¡ã®å ´æ‰€ãŒæˆ»ã‚‹ã¹ã`F`ãªã®ã§`labelF`ã‹ã‚‰å–ã‚Šå‡ºã—ã¦`L(F)`ã§å ´æ‰€ã‚’ç¢ºå®šã•ã›ã¾ã™ã€‚

## å‹•ä½œç¢ºèª
å…¨ä½“ã®ã‚³ãƒ¼ãƒ‰ã¯[bf.cpp](https://github.com/herumi/xbyak_riscv/blob/main/sample/bf.cpp)ã«ã‚ã‚Šã¾ã™ã€‚

```bash
% sudo apt install g++-13-riscv64-linux-gnu
```
ãªã©ã§RISC-Vç”¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦

```bash
% cd xbyak_riscv
% make -C sample EXE=bf.exe
```
ã§buildã§ãã¾ã™ã€‚

```bash
% env QEMU_LD_PREFIX=/usr/riscv64-linux-gnu ./bf.exe hello.bf
```
ã¨qemuã‚’ä½¿ã£ã¦bfã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã¿ã¦ãã ã•ã„ã€‚

`-d`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã‚‹ã¨JITç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ãŒ`bf.dump`ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚

```bash
% env QEMU_LD_PREFIX=/usr/riscv64-linux-gnu ./bf.exe A.bf -d
```

`objdump -D -b binary -m riscv:rv64`ã‚’ä½¿ã£ã¦ãƒ˜ãƒƒãƒ€ã®ç„¡ã„ãƒã‚¤ãƒˆã‚³ãƒ¼ãƒ‰ã‚’é€†ã‚¢ã‚»ãƒ³ãƒ–ãƒ«ã§ãã¾ã™ã€‚
```
% riscv64-linux-gn-objdump -D -b binary -m riscv:rv64 bf.dump
bf.dump:     file format binary

Disassembly of section .data:

0000000000000000 <.data>:
   0:   fe010113                add     sp,sp,-32
   4:   01213423                sd      s2,8(sp)
   8:   01313823                sd      s3,16(sp)
   c:   01413c23                sd      s4,24(sp)
  10:   02113023                sd      ra,32(sp)
  14:   00050913                mv      s2,a0
  18:   00058993                mv      s3,a1
  1c:   00060a13                mv      s4,a2
  20:   000a0503                lb      a0,0(s4)
  24:   04150513                add     a0,a0,65 # 'A'
  28:   00aa0023                sb      a0,0(s4)
  2c:   000a0503                lb      a0,0(s4)
  30:   000900e7                jalr    s2
  34:   02013083                ld      ra,32(sp)
  38:   01813a03                ld      s4,24(sp)
  3c:   01013983                ld      s3,16(sp)
  40:   00813903                ld      s2,8(sp)
  44:   02010113                add     sp,sp,32
  48:   00008067                ret
```
ãƒ‡ãƒãƒƒã‚°ã®ãŠä¾›ã«ã—ã¦ãã ã•ã„ã€‚
